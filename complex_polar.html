<!doctype html>
<html>
    <head>
        <!--meta标签-->
        <meta charset="utf-8"/>
        <meta name="description" content="这是小谭的学习笔记"/>
        <meta name = "author" content="小谭"/>
        <meta name= "keywords" content="小谭,html,学习"/>
        <meta name="viewport" content="width=device-width, initial-scale= 1.0"/>
        <title>小谭的网站</title>
        <style type="text/css">
        /* CSS styles here... */
        body {
    font-family: 'Arial', sans-serif;
    background-color: #f0f8ff; /* 淡蓝色背景 */
    color: #333333; /* 深灰色字体 */
    margin: 0;
    padding: 0;
    font-size: 15px; /* 增大基本字体大小 */
}

h1 {
    text-align: center;
    color: #ff4500; /* 橘红色 */
    font-size: 2em; /* 标题字体更大 */
}

.input{
    
    margin: 10px;
    background: linear-gradient(#8FBC8F, #2E8B57); /* 渐变背景 */
    color: #FFFAFA; /* 白色字体 */
    font-size: 1.2em; /* 输入和按钮标签的字体大小 */
    padding: 10px 10px; /* 增加内边距 */
    border-radius: 10px;
    border: none; /* 移除边框 */
    box-shadow: 0 6px #666; /* 更大的阴影 */
    cursor: pointer; /* 鼠标悬停时的光标形状 */
    transition: all 0.3s; /* 平滑过渡效果 */
    
}

.container {
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
.button    {
   margin: 10px;
    background: linear-gradient(#8FBC8F, #2E8B57); /* 渐变背景 */
    color: #FFFAFA; /* 白色字体 */
    font-size: 1.2em; /* 输入和按钮标签的字体大小 */
    padding: 15px 30px; /* 增加内边距 */
    border-radius: 10px;
    border: none; /* 移除边框 */
    box-shadow: 0 6px #666; /* 更大的阴影 */
    cursor: pointer; /* 鼠标悬停时的光标形状 */
    transition: all 0.3s; /* 平滑过渡效果 */
    
}

.button:hover {
    background: linear-gradient(#3CB371, #2E8B57); /* 鼠标悬停时的背景 */
    box-shadow: 0 2px #666; /* 悬停时的阴影 */
    transform: translateY(2px); /* 按钮轻微上移 */
    
    
}

#calc {
    background-color: #FF4500; /* 按钮背景色 */
    color: white; /* 按钮文字颜色 */
    padding: 15px 30px; /* 按钮内边距 */
    font-size: 1.2em; /* 文字大小 */
    border: none; /* 移除边框 */
    border-radius: 10px; /* 边框圆角 */
    box-shadow: 0 8px #999; /* 阴影效果 */
    cursor: pointer; /* 鼠标悬停时的光标形状 */
    transition: all 0.3s; /* 平滑过渡效果 */
}

#calc:hover {
    background-color: #FF4500; /* 鼠标悬停时的背景色 */
}

#calc:active {
    background-color: #8B0000;
    box-shadow: 0 5px #666; /* 按钮按下时的阴影 */
    transform: translateY(4px); /* 按钮按下时的位移 */
}

input[type="number"], input[type="text"] {
    border: 2px solid #20B2AA; /* 边框颜色 */
    border-radius: 5px;
    padding: 5px;
    font-size: 1.2em; /* 标题字体更大 */
    width: 100px; /* 调整为所需的宽度 */
}

input[type="radio"] {
    transform: scale(1.2); /* 单选按钮放大 */
    margin-right: 5px;
    font-size: 1.2em; /* 标题字体更大 */
}

.output {
    margin: 15px;
    padding: 10px;
    background-color: #f0fff0; /* 浅绿色背景 */
    border: 2px dashed #32CD32; /* 虚线边框 */
    border-radius: 20px;
    font-size: 1.2em; /* 字体更大 */
    
}


canvas {
    display: block;
    margin: 10px auto;
    border: 3px solid #6495ED; /* 边框颜色 */
    box-shadow: 0 4px #999; /* 阴影效果 */

    /* 鲜艳夺目的渐变背景 */
    background: linear-gradient(to right, #FFFAFA, #F0FFFF);
}


@import url("https://fonts.googleapis.com/css?family=Ubuntu:400,400i,700,700i");
*, *:before, *:after {
  margin: 0;
  padding: 0;
  word-break: break-all;
  box-sizing: border-box;
}

html {
  font-size: 10px;
}

body {
  font-family: 'Ubuntu', sans-serif;
  color: #6e6e6e;
  font-size: 1.6rem;
}

header, footer {
  display: block;
}

a, a:link, a:visited {
  color: #4d4d4d;
  text-decoration: none;
}

img {
  border: 0;
}

ul {
  list-style: none;
}

.center {
  background: #000c18;
  background: -webkit-linear-gradient(#013971, #000c18 60%);
  background: -moz-linear-gradient(#013971, #000c18 60%);
  background: -o-linear-gradient(#013971, #000c18 60%);
  background: -ms-linear-gradient(#013971, #000c18 60%);
  background: linear-gradient(#013971, #000c18 60%);
  height: 60rem;
  margin: auto;
  overflow: hidden;
  position: relative;
  width: 100%;
}
.center::before, .center::after {
  content: "";
  position: absolute;
}
.center::before {
  background: rgba(255, 250, 175, 0.8);
  border-radius: 50%;
  box-shadow: 0 0 3rem 0 rgba(255, 250, 175, 0.5);
  height: 16rem;
  left: 20%;
  top: -4rem;
  width: 16rem;
}
.center::after {
  background: -moz-radial-gradient(circle, rgba(255, 255, 255, 0.3), transparent 5%) left/14rem 15rem, radial-gradient(circle, rgba(255, 255, 255, 0.4), transparent 3%) left/10rem 9rem;
  background: -webkit-radial-gradient(circle, rgba(255, 255, 255, 0.3), transparent 5%) left/14rem 15rem, radial-gradient(circle, rgba(255, 255, 255, 0.4), transparent 3%) left/10rem 9rem;
  background: -o-radial-gradient(circle, rgba(255, 255, 255, 0.3), transparent 5%) left/14rem 15rem, radial-gradient(circle, rgba(255, 255, 255, 0.4), transparent 3%) left/10rem 9rem;
  background: -ms-radial-gradient(circle, rgba(255, 255, 255, 0.3), transparent 5%) left/14rem 15rem, radial-gradient(circle, rgba(255, 255, 255, 0.4), transparent 3%) left/10rem 9rem;
  background: radial-gradient(circle, rgba(255, 255, 255, 0.3), transparent 5%) left/14rem 15rem, radial-gradient(circle, rgba(255, 255, 255, 0.4), transparent 3%) left/10rem 9rem;
  height: 100%;
  width: 100%;
}

.mountains {
  height: 100%;
  position: absolute;
  width: 100%;
  z-index: 1;
}
.mountains::before, .mountains::after {
  background: #000c18;
  background: -moz-linear-gradient(#012a53, #000c18 50%);
  background: -webkit-linear-gradient(#012a53, #000c18 50%);
  background: -o-linear-gradient(#012a53, #000c18 50%);
  background: -ms-linear-gradient(#012a53, #000c18 50%);
  background: linear-gradient(#012a53, #000c18 50%);
  content: "";
  height: 100%;
  position: absolute;
}
.mountains::before {
  border-radius: 100% 300% 0 0;
  left: -20%;
  width: 57%;
}
.mountains::after {
  border-radius: 300% 100% 0 0;
  right: -20%;
  width: 80%;
}

.bridge {
  border-bottom: 0.3rem solid white;
  border-top: 0.3rem solid white;
  background: black;
  background: -webkit-linear-gradient(55deg, transparent 46%, white 46%, white 54%, transparent 54%) left/1.6rem 2.2rem, -webkit-linear-gradient(-55deg, transparent 46%, white 46%, white 54%, transparent 54%) left/1.6rem 2.2rem;
  background: -moz-linear-gradient(55deg, transparent 46%, white 46%, white 54%, transparent 54%) left/1.6rem 2.2rem, -moz-linear-gradient(-55deg, transparent 46%, white 46%, white 54%, transparent 54%) left/1.6rem 2.2rem;
  background: -o-linear-gradient(55deg, transparent 46%, white 46%, white 54%, transparent 54%) left/1.6rem 2.2rem, -o-linear-gradient(-55deg, transparent 46%, white 46%, white 54%, transparent 54%) left/1.6rem 2.2rem;
  background: -ms-linear-gradient(55deg, transparent 46%, white 46%, white 54%, transparent 54%) left/1.6rem 2.2rem, -ms-linear-gradient(-55deg, transparent 46%, white 46%, white 54%, transparent 54%) left/1.6rem 2.2rem;
  background: linear-gradient(55deg, transparent 46%, white 46%, white 54%, transparent 54%) left/1.6rem 2.2rem, linear-gradient(-55deg, transparent 46%, white 46%, white 54%, transparent 54%) left/1.6rem 2.2rem;
  bottom: 10rem;
  height: 2.6rem;
  position: absolute;
  width: 100%;
  z-index: 1;
}

.train {
  animation: move-train 8s linear infinite;
  bottom: 12.6rem;
  height: 10rem;
  position: absolute;
  left: calc(100%);
  width: 104rem;
  z-index: 11;
}

.engine-front, .engine-front::before, .engine-front::after {
  background: #0f0f0f;
  background: linear-gradient(0deg, #0f0f0f, #262626, #0f0f0f);
  border: 0.1rem solid rgba(255, 255, 255, 0.15);
  border-radius: 50% 0 0 50%;
  border-right: none;
}

.engine-front {
  animation: body-upDown 0.3s infinite;
  border-radius: 0.5rem 0 0 0.5rem;
  bottom: 1.4rem;
  height: 4.6rem;
  left: 0;
  position: absolute;
  width: 8rem;
}
.engine-front::before, .engine-front::after {
  content: "";
  position: absolute;
  height: 70%;
  left: -0.9rem;
  top: 50%;
  transform: translate(0, -50%);
  width: 0.8rem;
}
.engine-front::after {
  height: 40%;
  left: -1.4rem;
  width: 0.5rem;
}

.chimney {
  background: #990000;
  height: 2.2rem;
  left: 2.5rem;
  position: absolute;
  top: -2.3rem;
  width: 1.7rem;
}
.chimney::before, .chimney::after {
  content: "";
  position: absolute;
}
.chimney::before {
  animation: up-down 0.3s infinite;
  border-bottom: none;
  border-left: 0.5rem solid transparent;
  border-right: 0.5rem solid transparent;
  border-top: 0.8rem solid orange;
  left: 50%;
  top: -0.9rem;
  transform: translate(-50%, 0);
  width: 160%;
}

.smoke {
  animation: move-smoke 0.4s linear infinite;
  background: rgba(255, 255, 255, 0.8);
  border-radius: 50%;
  height: 1.4rem;
  left: 0.2rem;
  position: absolute;
  top: -1.5rem;
  width: 0.8rem;
  z-index: -1;
}
.smoke-2 {
  animation-delay: 0.1s;
  left: 0.4rem;
}
.smoke-3 {
  animation-delay: 0.2s;
  left: 0.6rem;
}
.smoke-4 {
  left: 0.8rem;
}

.engine-body {
  animation: body-upDown 0.3s 0.1s infinite;
  background: #b30000;
  background: linear-gradient(0deg, #330000, red, #990000);
  border-radius: 0 0 0.4rem 0;
  bottom: 1.4rem;
  height: 7rem;
  left: 8rem;
  position: absolute;
  width: 5rem;
}
.engine-body::before, .engine-body::after {
  content: "";
  left: 50%;
  position: absolute;
  transform: translate(-50%, 0);
}
.engine-body::before {
  animation: up-down 0.3s 0.2s infinite;
  background: #660000;
  background: linear-gradient(0deg, #660000, #990000, #660000);
  border-radius: 50% 50% 0 0;
  height: 1.2rem;
  top: -1.2rem;
  width: 130%;
}
.engine-body::after {
  background: #b3e0f2;
  border-radius: 0.2rem;
  height: 40%;
  top: 1rem;
  width: 45%;
}

.wheel::before, .wheel::after {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
}

.wheel-holder {
  height: 2.8rem;
  bottom: 0;
  position: absolute;
  width: 100%;
}

.wheel {
  animation: rotate 2s linear infinite;
  background: orange;
  border: 0.3rem solid rgba(0, 0, 0, 0.6);
  border-radius: 50%;
  height: 2.8rem;
  left: 1rem;
  position: absolute;
  width: 2.8rem;
}
.wheel-2 {
  left: 4.5rem;
}
.wheel-3 {
  border-width: 0.5rem;
  height: 3.8rem;
  left: 8.7rem;
  top: -1.1rem;
  width: 3.8rem;
}
.wheel-4 {
  left: 15.7rem;
}
.wheel-5 {
  left: 19.5rem;
}
.wheel-6 {
  left: 25.7rem;
}
.wheel-7 {
  left: 29.5rem;
}
.wheel-8 {
  left: 35.7rem;
}
.wheel-9 {
  left: 39.5rem;
}
.wheel::before, .wheel::after {
  content: "";
  position: absolute;
}
.wheel::before {
  background: rgba(0, 0, 0, 0.3);
  height: 86%;
  width: 0.2rem;
}
.wheel::after {
  background: #996300;
  background: -webkit-radial-gradient(circle at center, #b37400 30%, #996300 30%);
  background: -moz-radial-gradient(circle at center, #b37400 30%, #996300 30%);
  background: -o-radial-gradient(circle at center, #b37400 30%, #996300 30%);
  background: -ms-radial-gradient(circle at center, #b37400 30%, #996300 30%);
  background: radial-gradient(circle at center, #b37400 30%, #996300 30%);
  border-radius: 50%;
  height: 40%;
  width: 40%;
}

.compartment {
  animation: body-upDown 0.3s infinite;
  background: #186c8e;
  background: -webkit-linear-gradient(#104b63 50%, #1f8dba);
  background: -moz-linear-gradient(#104b63 50%, #1f8dba);
  background: -o-linear-gradient(#104b63 50%, #1f8dba);
  background: -ms-linear-gradient(#104b63 50%, #1f8dba);
  background: linear-gradient(#104b63 50%, #1f8dba);
  border-radius: 0 0 0.3rem 0.3rem;
  bottom: 1.4rem;
  height: 5rem;
  left: 15rem;
  position: absolute;
  width: 8rem;
}
.compartment-two {
  animation: body-upDown 0.3s 0.1s infinite;
  left: 25rem;
}
.compartment-two .compartment-window::before {
  animation: up-down 0.3s 0.3s infinite;
}
.compartment-three {
  animation: body-upDown 0.3s 0.2s infinite;
  left: 35rem;
}
.compartment-three .compartment-window::before {
  animation: up-down 0.35s infinite;
}
.compartment::before, .compartment::after {
  background: black;
  border: 0.4rem solid transparent;
  bottom: 0.4rem;
  box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.1);
  content: "";
  height: 0.8rem;
  position: absolute;
  width: 0.9rem;
}
.compartment::before {
  border-left: 0.4rem solid rgba(255, 255, 255, 0.3);
  left: -0.9rem;
}
.compartment::after {
  border-right: 0.4rem solid rgba(255, 255, 255, 0.3);
  left: -2rem;
}

.compartment-window {
  background: #1f8dba;
  background: -moz-linear-gradient(90deg, transparent 0.8rem, skyblue 0.8rem) left/2.4rem 100%;
  background: -webkit-linear-gradient(90deg, transparent 0.8rem, skyblue 0.8rem) left/2.4rem 100%;
  background: -o-linear-gradient(90deg, transparent 0.8rem, skyblue 0.8rem) left/2.4rem 100%;
  background: -ms-linear-gradient(90deg, transparent 0.8rem, skyblue 0.8rem) left/2.4rem 100%;
  background: linear-gradient(90deg, transparent 0.8rem, skyblue 0.8rem) left/2.4rem 100%;
  height: 40%;
  position: absolute;
  top: 0.7rem;
  width: 100%;
}
.compartment-window::before, .compartment-window::after {
  content: "";
  position: absolute;
}
.compartment-window::before {
  animation: up-down 0.3s 0.1s infinite;
  background: #104b63;
  border-radius: 50% 50% 0 0;
  height: 0.6rem;
  left: 50%;
  top: -1.4rem;
  transform: translate(-50%, 0);
  width: 110%;
}

@keyframes up-down {
  0%, 100% {
    transform: translate(-50%, 0);
  }
  50% {
    transform: translate(-50%, -0.3rem);
  }
}
@keyframes rotate {
  100% {
    transform: rotate(-360deg);
  }
}
@keyframes move-train {
  100% {
    transform: translateX(-154rem);
  }
}
@keyframes body-upDown {
  0%, 100% {
    transform: translateY(0);
  }
  100% {
    transform: translateY(-0.2rem);
  }
}
@keyframes move-smoke {
  0% {
    -webkit-filter: blur(0);
    -moz-filter: blur(0);
    -o-filter: blur(0);
    -ms-filter: blur(0);
    filter: blur(0);
    opacity: 1;
  }
  50% {
    -webkit-filter: blur(0.2rem);
    -moz-filter: blur(0.2rem);
    -o-filter: blur(0.2rem);
    -ms-filter: blur(0.2rem);
    filter: blur(0.2rem);
    opacity: 0.6;
    transform: translate(0, -3rem) scale(2);
  }
  100% {
    -webkit-filter: blur(0.3rem);
    -moz-filter: blur(0.3rem);
    -o-filter: blur(0.3rem);
    -ms-filter: blur(0.3rem);
    filter: blur(0.3rem);
    opacity: 0;
    transform: translate(2.5rem, -6rem) scale(3);
  }
}
.wheel-joint {
  animation: wheel-joint 2s linear infinite;
  background: white;
  border-radius: 0.6rem;
  height: 0.4rem;
  position: absolute;
  right: 0.4rem;
  top: calc(50% - 0.2rem);
  transform-origin: 100% 50%;
  width: 3.6rem;
  z-index: 1;
}
.wheel-joint::before, .wheel-joint::after {
  background: #333333;
  border: 0.1rem solid white;
  border-radius: 50%;
  content: "";
  height: 0.8rem;
  position: absolute;
  top: 50%;
  transform: translate(0, -50%);
  width: 0.8rem;
}
.wheel-joint::before {
  left: -0.4rem;
}
.wheel-joint::after {
  right: -0.4rem;
}
.wheel-joint-2 {
  left: 1.8rem;
  right: auto;
  transform: rotate(-15deg);
  transform-origin: 0 50%;
  width: 4.4rem;
}
.wheel-joint-2::before {
  height: 1.1rem;
  width: 1.1rem;
}

@keyframes wheel-joint {
  100% {
    transform: rotate(360deg);
  }
}
        
        /* 在这里添加你的 CSS 样式 */
       //#countdown {
            /* 倒计时的样式 */
            position: fixed;
            width: 100%;
            height: 100%;
            //background: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 2rem;
            z-index: 1000;
        }
   
   
   #main-content {
            /* 主内容的样式 */
            display: none; /* 初始时隐藏主内容 */     
        }
        </style>
    
    </head>
    <body>
     <div id="countdown">

      <div class="center"> 

  <p>小谭出品🤪</p>
  

        请等待 <span id="countdown-number">5</span> 秒
  
  
    <div class="mountains"></div> 
  
  <div class="train"> 
    <div class="engine-front"> 
      <div class="chimney"> 
        <div class="smoke"></div> 
        <div class="smoke smoke-2"></div> 
        <div class="smoke smoke-3"></div> 
        <div class="smoke smoke-4"></div> 
      </div> 
    </div> 
     
    <div class="engine-body"></div> 
     
    <div class="compartment"> 
      <div class="compartment-window"></div> 
    </div> 
     
    <div class="compartment compartment-two"> 
      <div class="compartment-window"></div> 
    </div> 
     
    <div class="compartment compartment-three"> 
      <div class="compartment-window"></div> 
    </div> 
    <!-- 新增的第四个车厢 -->
  <div class="compartment" style="left: 45rem;"> 
    <div class="compartment-window"></div> 
  </div> 
     <!-- 新增的第5个车厢 -->
  <div class="compartment" style="left: 55rem;"> 
    <div class="compartment-window"></div> 
  </div> 
  <!-- 新增的第6个车厢 -->
  <div class="compartment" style="left: 65rem;"> 
    <div class="compartment-window"></div> 
  </div> 
  <!-- 新增的第7个车厢 -->
  <div class="compartment" style="left: 75rem;"> 
    <div class="compartment-window"></div> 
  </div> 
  <!-- 新增的第8个车厢 -->
  <div class="compartment" style="left: 85rem;"> 
    <div class="compartment-window"></div> 
  </div> 
  <!-- 新增的第9个车厢 -->
  <div class="compartment" style="left: 95rem;"> 
    <div class="compartment-window"></div> 
  </div> 
  <!-- 新增的第10个车厢 -->
  <div class="compartment" style="left: 105rem;"> 
    <div class="compartment-window"></div> 
  </div> 
    <div class="wheel-holder"> 
      <div class="wheel"></div> 
      <div class="wheel wheel-2"> 
        <div class="wheel-joint"></div> 
        <div class="wheel-joint wheel-joint-2"></div> 
      </div> 
      <div class="wheel wheel-3"></div> 
      <div class="wheel wheel-4"></div> 
      <div class="wheel wheel-5"></div> 
      <div class="wheel wheel-6"></div> 
      <div class="wheel wheel-7"></div> 
      <div class="wheel wheel-8"></div> 
      <div class="wheel wheel-9"></div> 
      <div class="wheel" style="left: 45.5rem;"></div>  <!-- 第四个车厢的第一个轮子 -->
  <div class="wheel" style="left: 49.5rem;"></div>  <!-- 第四个车厢的第二个轮子 -->
  <div class="wheel" style="left: 55.5rem;"></div>  <!-- 第5个车厢的第一个轮子 -->
  <div class="wheel" style="left: 59.5rem;"></div>  <!-- 第5个车厢的第二个轮子 -->
  <div class="wheel" style="left: 65.5rem;"></div>  <!-- 第6个车厢的第一个轮子 -->
  <div class="wheel" style="left: 69.5rem;"></div>  <!-- 第6个车厢的第二个轮子 -->
  <div class="wheel" style="left: 75.5rem;"></div>  <!-- 第7个车厢的第一个轮子 -->
  <div class="wheel" style="left: 79.5rem;"></div>  <!-- 第7个车厢的第二个轮子 -->
  <div class="wheel" style="left: 85.5rem;"></div>  <!-- 第8个车厢的第一个轮子 -->
  <div class="wheel" style="left: 89.5rem;"></div>  <!-- 第8个车厢的第二个轮子 -->
  <div class="wheel" style="left: 95.5rem;"></div>  <!-- 第9个车厢的第一个轮子 -->
  <div class="wheel" style="left: 99.5rem;"></div>  <!-- 第9个车厢的第二个轮子 -->
  <div class="wheel" style="left: 105.5rem;"></div>  <!-- 第10个车厢的第一个轮子 -->
  <div class="wheel" style="left: 109.5rem;"></div>  <!-- 第10个车厢的第二个轮子 -->
    </div> 
  </div> 
  <div class="bridge"></div> 

</div> 
    
      </div>

    
    
    <div id="main-content">

    <h1>复数的计算程序</h1>
    <div class="container">
        <div class="input">
            <p>复数1：</p>
            <form id="form1">
                <input type="radio" id="alg1" name="form1" value="alg" checked>
                <label for="alg1">代数式</label>
                <input type="radio" id="pol1" name="form1" value="pol">
                <label for="pol1">极坐标</label><br>
                <label for="a1">a1:</label>
                <input type="number" id="a1" name="a1" value=""  /><br>
                <label for="b1">b1:</label>
                <input type="number" id="b1" name="b1" value=""><br>
                <label for="r1">r1:</label>
                <input type="number" id="r1" name="r1" value="" disabled><br>
                <label for="t1">θ1:</label>
                <input type="number" id="t1" name="t1" value="" disabled><br>
            </form>
        </div>
        <div class="input">
            <p>复数2：</p>
            <form id="form2">
                <input type="radio" id="alg2" name="form2" value="alg" checked>
                <label for="alg2">代数式</label>
                <input type="radio" id="pol2" name="form2" value="pol">
                <label for="pol2">极坐标</label><br>
                <label for="a2">a2:</label>
                <input type="number" id="a2" name="a2" value=""><br>
                <label for="b2">b2:</label>
                <input type="number" id="b2" name="b2" value=""><br>
                <label for="r2">r2:</label>
                <input type="number" id="r2" name="r2" value="" disabled><br>
                <label for="t2">θ2:</label>
                <input type="number" id="t2" name="t2" value="" disabled><br>
            </form>
        </div>
    </div>
    <div class="container">
        <div class="button">
            <p>请选择要进行的运算：</p>
            <form id="form3">
                <input type="radio" id="add" name="form3" value="add" checked>
                <label for="add">加法</label>
                <input type="radio" id="sub" name="form3" value="sub">
                <label for="sub">减法</label>
                <input type="radio" id="mul" name="form3" value="mul">
                <label for="mul">乘法</label>
                <input type="radio" id="div" name="form3" value="div">
                <label for="div">除法</label><br>
                <button type="button" id="calc">计算</button>
            </form>
        </div>
        
        <div class="output">
            <p>输出结果：</p>
            <p id="result"></p>
        </div>
    </div>
  
    <canvas id="complexCanvas" width="800" height="800"></canvas>
    
    
    
    </div>
    </body>
    
      <script>
//tan  2023,12,20

/*    
// 获取浏览器窗口的视口宽度和高度
var viewportWidth = window.innerWidth;
var viewportHeight = window.innerHeight;

// 获取屏幕的实际宽度和高度
var screenWidth = screen.width/3;
var screenHeight = screen.height;

console.log('Viewport Width: ' + viewportWidth + ', Viewport Height: ' + viewportHeight);
console.log('Screen Width: ' + screenWidth + ', Screen Height: ' + screenHeight);
*/


function setInputWidthBasedOnScreenWidth() {
  var screenWidth = window.innerWidth; // 获取屏幕宽度
  var desiredWidth = screenWidth * 0.25; // 假设您希望输入框宽度是屏幕宽度的 30%

  // 将宽度转换为像素值并四舍五入到整数
  var widthInPixels = Math.round(desiredWidth) + 'px';

  // 遍历所有样式表和规则
  for (let i = 0; i < document.styleSheets.length; i++) {
    const sheet = document.styleSheets[i];
    try {
      for (let j = 0; j < sheet.cssRules.length; j++) {
        const rule = sheet.cssRules[j];
        // 当找到对应选择器时
        if (rule.selectorText === 'input[type="number"], input[type="text"]') {
          // 设置新的宽度
          rule.style.width = widthInPixels;
          return; // 成功设置后退出函数
        }
      }
    } catch (e) {
      console.error("Cannot read CSS rule from cross-origin stylesheet");
    }
  }
}

// 调用函数以设置输入框宽度setInputWidthBasedOnScreenWidth();

//如果您希望在页面加载时就调用这个函数，可以将其绑定到 DOMContentLoaded 事件：

document.addEventListener('DOMContentLoaded', setInputWidthBasedOnScreenWidth);





//  定义一个复数类
        function Complex(real, imaginary) {
            this.real = real;
            this.imaginary = imaginary;
        }

        //定义复数的加法
        Complex.prototype.add = function (that) {
            return new Complex(this.real + that.real, this.imaginary + that.imaginary);
        };

        //定义复数的减法
        Complex.prototype.sub = function (that) {
            return new Complex(this.real - that.real, this.imaginary - that.imaginary);
        };

        // 更新复数的乘法
Complex.prototype.mul = function (that) {
    return new Complex(this.real * that.real - this.imaginary * that.imaginary, this.real * that.imaginary + this.imaginary * that.real);
};

// 更新复数的除法
Complex.prototype.div = function (that) {
    var denom = that.real * that.real + that.imaginary * that.imaginary;
    return new Complex((this.real * that.real + this.imaginary * that.imaginary) / denom, (this.imaginary * that.real - this.real * that.imaginary) / denom);
};

        //定义复数的模
        Complex.prototype.mag = function () {
            return Math.sqrt(this.real * this.real + this.imaginary * this.imaginary);
        };

        //定义复数的辐角
        Complex.prototype.arg = function () {
            return Math.atan(this.imaginary/this.real);
        };

        //定义复数的代数式
        Complex.prototype.alg = function() {
    return `${this.real.toFixed(2)} + ${this.imaginary.toFixed(2)}i`;
};

        //定义复数的极坐标
        /*Complex.prototype.pol = function () {
            return this.mag() + "∠" + this.arg();
        };
        // 修改 Complex.prototype.pol 方法
    Complex.prototype.pol = function () {
    return this.mag() + "∠" + (this.arg() * (180 / Math.PI));
};
*/
Complex.prototype.pol = function() {
    const magnitude = this.mag().toFixed(2);
    const angle = (Math.atan2(this.imaginary, this.real) * (180 / Math.PI)).toFixed(2);
    return `${magnitude} ∠ ${angle}°`;
};

        //获取html元素
        var form1 = document.getElementById("form1");
        var form2 = document.getElementById("form2");
        var form3 = document.getElementById("form3");
        var alg1 = document.getElementById("alg1");
        var pol1 = document.getElementById("pol1");
        var alg2 = document.getElementById("alg2");
        var pol2 = document.getElementById("pol2");
        var a1 = document.getElementById("a1");
        var b1 = document.getElementById("b1");
        var r1 = document.getElementById("r1");
        var t1 = document.getElementById("t1");
        var a2 = document.getElementById("a2");
        var b2 = document.getElementById("b2");
        var r2 = document.getElementById("r2");
        var t2 = document.getElementById("t2");
        var add = document.getElementById("add");
        var sub = document.getElementById("sub");
        var mul = document.getElementById("mul");
        var div = document.getElementById("div");
        var calc =document.getElementById("calc");
        
        
        //为alg1和pol1添加change事件监听器
alg1.addEventListener("change", function () {
    //如果选择代数式，启用a1,b1，禁用r1,t1
    if (alg1.checked) {
        a1.disabled = false;
        b1.disabled = false;
        r1.disabled = true;
        t1.disabled = true;
    }
});

pol1.addEventListener("change", function () {
    //如果选择极坐标，启用r1,t1，禁用a1,b1
    if (pol1.checked) {
        a1.disabled = true;
        b1.disabled = true;
        r1.disabled = false;
        t1.disabled = false;
    }
});

//为alg2和pol2添加change事件监听器
alg2.addEventListener("change", function () {
    //如果选择代数式，启用a2,b2，禁用r2,t2
    if (alg2.checked) {
        a2.disabled = false;
        b2.disabled = false;
        r2.disabled = true;
        t2.disabled = true;
    }
});

pol2.addEventListener("change", function () {
    //如果选择极坐标，启用r2,t2，禁用a2,b2
    if (pol2.checked) {
        a2.disabled = true;
        b2.disabled = true;
        r2.disabled = false;
        t2.disabled = false;
    }
});

// 当第一个复数的代数式输入框的值改变时
function updatePolarFromAlgebraic1() {
    var a = Number(document.getElementById('a1').value);
    var b = Number(document.getElementById('b1').value);

    var r = Math.sqrt(a * a + b * b);
    var theta = Math.atan2(b, a) * (180 / Math.PI);

    document.getElementById('r1').value = r.toFixed(2);
    document.getElementById('t1').value = theta.toFixed(2);
}

// 当第一个复数的极坐标输入框的值改变时
function updateAlgebraicFromPolar1() {
    var r = Number(document.getElementById('r1').value);
    var theta = Number(document.getElementById('t1').value) * (Math.PI / 180);

    var a = r * Math.cos(theta);
    var b = r * Math.sin(theta);

    document.getElementById('a1').value = a.toFixed(2);
    document.getElementById('b1').value = b.toFixed(2);
}

// 当第二个复数的代数式输入框的值改变时
function updatePolarFromAlgebraic2() {
    var a = Number(document.getElementById('a2').value);
    var b = Number(document.getElementById('b2').value);

    var r = Math.sqrt(a * a + b * b);
    var theta = Math.atan2(b, a) * (180 / Math.PI);

    document.getElementById('r2').value = r.toFixed(2);
    document.getElementById('t2').value = theta.toFixed(2);
}

// 当第二个复数的极坐标输入框的值改变时
function updateAlgebraicFromPolar2() {
    var r = Number(document.getElementById('r2').value);
    var theta = Number(document.getElementById('t2').value) * (Math.PI / 180);

    var a = r * Math.cos(theta);
    var b = r * Math.sin(theta);

    document.getElementById('a2').value = a.toFixed(2);
    document.getElementById('b2').value = b.toFixed(2);
}

// 添加事件监听器
document.getElementById('a1').addEventListener('input', updatePolarFromAlgebraic1);
document.getElementById('b1').addEventListener('input', updatePolarFromAlgebraic1);
document.getElementById('r1').addEventListener('input', updateAlgebraicFromPolar1);
document.getElementById('t1').addEventListener('input', updateAlgebraicFromPolar1);

document.getElementById('a2').addEventListener('input', updatePolarFromAlgebraic2);
document.getElementById('b2').addEventListener('input', updatePolarFromAlgebraic2);
document.getElementById('r2').addEventListener('input', updateAlgebraicFromPolar2);
document.getElementById('t2').addEventListener('input', updateAlgebraicFromPolar2);

var c1, c2, complexResult; // 全局变量

// 更新计算按钮的点击事件监听器
calc.addEventListener("click", function () {
    // ... 现有的获取输入值和解析复数逻辑 ...

    var c1, c2;
    if (alg1.checked) {
        c1 = new Complex(Number(a1.value), Number(b1.value));
    } else {
        c1 = new Complex(Number(r1.value) * Math.cos(Number(t1.value) * Math.PI / 180), Number(r1.value) * Math.sin(Number(t1.value) * Math.PI / 180));
    }
    if (alg2.checked) {
        c2 = new Complex(Number(a2.value), Number(b2.value));
    } else {
        c2 = new Complex(Number(r2.value) * Math.cos(Number(t2.value) * Math.PI / 180), Number(r2.value) * Math.sin(Number(t2.value) * Math.PI / 180));
    }

      // 重命名变量，例如使用 complexResult
    var complexResult;
    if (add.checked) {
        complexResult = c1.add(c2);
    } else if (sub.checked) {
        complexResult = c1.sub(c2);
    } else if (mul.checked) {
        complexResult = c1.mul(c2);
    } else if (div.checked) {
        complexResult = c1.div(c2);
    }

    // 在 HTML 中显示计算结果
    var resultElement = document.getElementById('result');
    resultElement.innerHTML = `代数式: ${complexResult.alg()}<br>极坐标: ${complexResult.pol()}`;

    // 在 Canvas 上绘制结果
    displayOnCanvas(c1, c2, complexResult);
    
    // 获取 Canvas
    var canvas = document.getElementById('complexCanvas');
    var ctx = canvas.getContext('2d');

    // 确定缩放比例
    var scale = determineScale(c1, c2, complexResult, canvas);

    // 绘制坐标系和复数点
    drawComplexPlane(ctx, scale);
    plotComplexNumber(ctx, c1, scale, 'blue', 'c1: ' + c1.alg());
    plotComplexNumber(ctx, c2, scale, 'green', 'c2: ' + c2.alg());
    plotComplexNumber(ctx, complexResult, scale, 'red', 'result: ' + complexResult.alg(), true);

        
    
    
});

function determineScale(c1, c2, complexResult, canvas) {
    const maxMag = Math.max(c1.mag(), c2.mag(), complexResult.mag());
    return Math.min(canvas.width, canvas.height) / (2 * maxMag);
}

function drawComplexPlane(ctx, scale) {
    const width = ctx.canvas.width;
    const height = ctx.canvas.height;
    
     // 根据画布大小动态计算步长
    //const stepX = Math.floor(width / (scale * 10)); // 横向刻度间隔
    //const stepY = Math.floor(height / (scale * 10)); // 纵向刻度间隔
    const centerX = width / 2;
    const centerY = height / 2;
    const maxDimension = Math.max(width, height);
    const step = Math.max(width, height) / 30; // 使刻度间隔是 Canvas 最大尺寸的某个分数; // 根据需要调整刻度间隔
    //清除
    ctx.clearRect(0, 0, width, height);
    
      // 设置坐标轴和刻度的颜色
    ctx.strokeStyle = '#000'; // 黑色边框
    ctx.fillStyle = '#000'; // 黑色填充
    ctx.font = '12px Arial'; // 字体大小和类型
    ctx.textAlign = 'center'; // 文字水平居中
    ctx.textBaseline = 'middle'; // 文字垂直居中

    

    // 绘制刻度
    // 绘制刻度和刻度文本
    for (let i = step; i < maxDimension / 2; i += step) {
        if (centerX + i < width) {
            drawTick(ctx, centerX + i, centerY, (i / scale).toFixed(0));
        }
        if (centerX - i >= 0) {
            drawTick(ctx, centerX - i, centerY, (-i / scale).toFixed(0));
        }
        if (centerY + i < height) {
            drawTick(ctx, centerX, centerY + i, (-i / scale).toFixed(0));
        }
        if (centerY - i >= 0) {
            drawTick(ctx, centerX, centerY - i, (i / scale).toFixed(0));
        }
    }

// 绘制 X 轴和 Y 轴
    ctx.beginPath();
    ctx.moveTo(0, height / 2);
    ctx.lineTo(width, height / 2);
    ctx.moveTo(width / 2, 0);
    ctx.lineTo(width / 2, height);
    ctx.strokeStyle = '#000';
    ctx.stroke();
    // 绘制 X 轴箭头
    ctx.beginPath();
    ctx.moveTo(width - 10, centerY - 5);
    ctx.lineTo(width, centerY);
    ctx.lineTo(width - 10, centerY + 5);
    ctx.fill();

    // 绘制 Y 轴箭头
    ctx.beginPath();
    ctx.moveTo(centerX - 5, 10);
    ctx.lineTo(centerX, 0);
    ctx.lineTo(centerX + 5, 10);
    ctx.fill();

    // 绘制“实数”标签
    ctx.fillText('实数', width - 30, centerY + 20);

    // 绘制“虚数”标签
    ctx.save(); // 保存当前上下文状态
    ctx.translate(centerX + 20, 30);
    ctx.rotate(-Math.PI / 2); // 旋转文本
    ctx.fillText('虚数', 0, 0);
    ctx.restore(); // 恢复上下文状态


    
}

function plotComplexNumber(ctx, complex, scale, color, label, drawDashedLines) {
    const centerX = ctx.canvas.width / 2;
    const centerY = ctx.canvas.height / 2;
    const x = centerX + complex.real * scale;
    const y = centerY - complex.imaginary * scale;

    // 绘制连线
    ctx.beginPath();
    ctx.moveTo(centerX, centerY);
    ctx.lineTo(x, y);
    ctx.strokeStyle = color;
    ctx.stroke();

    // 绘制点
    ctx.beginPath();
    ctx.arc(x, y, 5, 0, 2 * Math.PI);
    ctx.fillStyle = color;
    ctx.fill();

    // 调整显示数值的位置
    const xOffset = x > centerX ? 10 : -10; // 如果在右侧，向右偏移，反之向左偏移
    const yOffset = y > centerY ? 10 : -10; // 如果在下方，向下偏移，反之向上偏移
    ctx.font = '12px Arial';
    ctx.fillStyle = color; // 文本颜色
    ctx.fillText(label, x + xOffset, y + yOffset);

// 绘制到实轴和虚轴的垂直灰色虚线
    if (drawDashedLines) {
        ctx.setLineDash([5, 5]); // 设置虚线样式
        ctx.strokeStyle = '#808080'; // 灰色

        // 到实轴的虚线
        ctx.beginPath();
        ctx.moveTo(x, y);
        ctx.lineTo(x, centerY);
        ctx.stroke();

        // 到虚轴的虚线
        ctx.beginPath();
        ctx.moveTo(x, y);
        ctx.lineTo(centerX, y);
        ctx.stroke();

        ctx.setLineDash([]); // 重置为实线
    }
    // 显示数值
    //ctx.font = '12px Arial';
    //ctx.fillText(label, x + 10, y);
}


// 计算两个复数中的最大幅值
function maxMagnitude(c1, c2, result) {
    return Math.max(c1.mag(), c2.mag(), result.mag());
}

// 根据最大幅值调整缩放比例
function adjustScale(maxMag) {
    // 基本缩放比例，可以根据需要调整
    var baseScale = 20;
    return Math.max(baseScale, Math.ceil(maxMag / 5) * 5);
}

// 修改 displayOnCanvas 函数
function displayOnCanvas(c1, c2, result) {
    var canvas = document.getElementById('complexCanvas');
    var ctx = canvas.getContext('2d');
    var width = canvas.width;
    var height = canvas.height;

    var maxMag = maxMagnitude(c1, c2, result);
    var scale = adjustScale(maxMag);

    drawComplexPlane(ctx, width, height, scale);
    plotComplexNumber(ctx, c1, width, height, scale);
    plotComplexNumber(ctx, c2, width, height, scale);
    plotComplexNumber(ctx, result, width, height, scale);


}

function drawTick(ctx, x, y, label) {
    ctx.beginPath();
    ctx.moveTo(x, y - 5);
    ctx.lineTo(x, y + 5);
    ctx.stroke();
    ctx.fillText(label, x + 5, y + 15);
}




let countdownNumber = 5;
        const countdownElement = document.getElementById('countdown-number');
        const countdownContainer = document.getElementById('countdown');
        const mainContent = document.getElementById('main-content');

        function updateCountdown() {
            if(countdownNumber === 0) {
                countdownContainer.style.display = 'none'; // 隐藏倒计时
                mainContent.style.display = 'block'; // 显示主内容
                clearInterval(countdownTimer);
            } else {
                countdownElement.innerText = countdownNumber;
                countdownNumber--;
            }
        }

        let countdownTimer = setInterval(updateCountdown, 1000);


</script>
</html> 